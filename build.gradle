plugins {
    id 'java'
    id 'org.springframework.boot' version "2.2.2.RELEASE"
//    id 'io.spring.dependency-management' version '1.0.8.RELEASE'
}

group 'com.lucifaer'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile("org.springframework.shell:spring-shell-starter:2.0.0.RELEASE")
    compile("org.springframework.boot:spring-boot-starter-test:1.5.8.RELEASE")

    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile("com.github.stefanbirkner:system-rules:1.19.0")
}

jar {
    manifest {
        attributes "Manifest-Version": 1.0,
                "Main-Class": "com.lucifaer.jokerframework.Joker"
    }
    from {
        sourceSets.main.runtimeClasspath
                .filter { (it.isDirectory() && it.listFiles().length > 0) || it.isFile() }
                .collect { it.isDirectory() ? it : zipTree(it) }

    }
}
